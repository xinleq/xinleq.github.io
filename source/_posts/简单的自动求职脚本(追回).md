---
title: 简单的自动求职脚本(追回)
date: 2019-05-10 19:28:58
tags:
---

<p>写了一个简单的傻瓜式自动投简历脚本，不会筛选，也没有做框架，就一个流程下来了，为了投简历偷点懒，顺便再重新熟悉熟悉unittest基本功能点，毕竟比沈腾也小不了几岁。</p>



```python
import time
import unittest
from selenium import webdriver


class Test_jobSearch(unittest.TestCase):
    def setUp(self):
        # 实例化驱动，打开网页
        self.driver = webdriver.Edge()
        self.driver.get("https://www.zhaopin.com/")
        self.driver.implicitly_wait(30)

    def test_searchjob(self):
        # 点击取消警示信息
        self.driver.find_element_by_xpath("//div[@class='risk-warning__content']/button").click()
        # 确定是否登录
        self.ele = self.driver.find_element_by_xpath("//span[@class='zp-userinfo']")
        if self.ele.text == "xxx":
            # 确认登录，定位搜索框，搜索招聘信息
            self.driver.find_element_by_class_name("zp-search__input").clear()
            self.driver.find_element_by_class_name("zp-search__input").send_keys("软件测试")
            self.driver.find_element_by_css_selector("a.zp-search__btn.zp-search__btn--blue").click()
            # self.driver.find_element_by_class_name("zp-search__btn zp-search__btn--blue").click()
            # self.driver.close()
        # 进入招聘列表页
        self.driver.switch_to.window(self.driver.window_handles[1])
        time.sleep(3)
        self.ele_city = self.driver.find_element_by_class_name("current-city__name").text
        # print(self.ele_city)
        # 确定应聘城市
        try:
            self.assertEqual(self.ele_city, "深圳")
        except:
            # 不是所应聘城市，修改应聘城市信息
            self.driver.find_element_by_class_name("current-city__name").click()
            time.sleep(5)
            self.driver.find_element_by_link_text("深圳")
        # 选择最新发布信息
        self.driver.find_element_by_link_text("最新发布").click()
        # 下滚滚动条
        js = "window.scrollTo(0,1000)"
        self.driver.execute_script(js)
        time.sleep(5)
        # 应聘职位全选，
        self.driver.find_element_by_class_name("pagination__check__content__checkbox").click()
        time.sleep(3)
        # 点击求职申请
        self.driver.find_elements_by_xpath("//button[@class='a-button a--bordered a--filled' and text()='申请职位 90']")[
            0].click()
        time.sleep(5)
        self.driver.find_element_by_css_selector("button.a-button.a--bordered.a--filled")
        # 完成退出浏览器
        self.driver.quit()


if __name__ == "__main__":
    unittest.main()
```



<p>上面的代码排版也太……回头再整理吧，发布以后看到的排版还好，就这样吧</p>
<p>说明：</p>
<ol>
<li>仅在Edge下正常运行，前提是需要曾经登录过，不用再输用户名密码</li>
<li>在Firefox下，需要登录，因为验证码问题未解决，故登录后脚本停止运行</li>
<li>Chrome下，本机运行特别慢，正在找合适的浏览器跟驱动</li>
<li>IE下，搜索元素定位不到，所以……</li>
</ol




{% asset_img 640.gif 小可爱 %}


